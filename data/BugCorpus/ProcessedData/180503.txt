180503.txt: contributions updating element command handler working inconsistent behavior update element method element updater manipulate toolbar item toggle toolbar item clicked user checked depressed command contribution item set checked method checked member variable stored false calls element set checked false silently toolbar item remains checked steps reproduce command simple application view application extension point org eclipse commands command default handler demo demo handler demo command demo command extension handler code public class demo handler extends abstract handler implements element updater override public object execute execution event event throws execution exception workbench window window handler util active workbench window checked event command service service command service window service command service class service refresh elements event command null return null public void update element element element map parameters element set checked false menu extension extension point org eclipse menus menu contribution location toolbar org eclipse main toolbar additions toolbar main command command demo command icon icons alt window gif style toggle command toolbar menu contribution extension
