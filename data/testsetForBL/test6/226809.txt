activity mgmt forbid add activities enabled list originally disabled created attachment removes activities enabled list controlled disabled expressions build steps reproduce add expression controlled disabled activities activity manager set enabled activities method enabled activities list enable expressions fire evaluation source notice updated properly system don recognizes difference enabled list patch remove activity disabled controlled expression set enabled activities list logic short cut code risk activity enabled list doesn question trigger point advisor tests expressions reply comment patch remove activity disabled controlled expression set enabled activities list logic short cut code risk bad patch offers risk patched risk created attachment extended patch wrong enablement patch includes patch comment fixes loophole activity removed enabled list disabled expression wouldn update patch stay filtered restricted patch applied unit test included dont expression tested manager logic belongs advisor sufficient strip activities bound expressions list passed set enabled ids reply comment dont expression tested manager logic belongs advisor activity set enabled command mutable activity manager update activity method private called public method set enabled activities calling method activity enabled listener enabled listener depends enabled activity version tested enabled list incorrect doesn mirrors actual expression enabled activities sufficient strip activities bound expressions list passed set enabled ids remove expression controlled activities remember write listener expression controlled activities don set enabled activities handles transformation enabled list enabled listener updates listeners expression disabled activities removed enabled list expression controlled synchronized don wishes parallel lists additionally point logic short cut point code reasonable mutable activity manager update identifier identifier identifier set changed activity ids lines enabled activity ids size defined activity ids size enabled true enabled changed identifier set enabled enabled call advisor long time created attachment activity preliminary discussion base created attachment patch proposal patch proposal divides control expression enabled activities normal activities expression controlled activities filtered bug solution takes general approach divide types activities relies mutable activity manager set expression enabled activity ids method created attachment patch proposal patch proposal divides control expression enabled activities normal activities expression controlled activities filtered bug solution takes specific approach divide types activities relies mutable activity manager add expression enabled activity remov expression enabled activity methods patches valid working solutions unit tests stuff behavior paul kim favorite general specific work java doc private methods chose total blush option minor issues names methods remove complain bit keeper reply comment blush option minor issues names methods remove complain bit keeper discussing paul issues basically problem code patch takes account user set enabled activity bound expression doesn guard user remove enablement activity bound expression test code problem test source provider test source provider test source provider evaluation service eval service evaluation service platform workbench service evaluation service class eval service add source provider test source provider test source provider fire source changed workbench activity support support platform workbench activity support support set enabled activity ids collections empty set set set hash set support activity manager enabled activity ids set previous set hash set support activity manager enabled activity ids set add support set enabled activity ids set assert equals previous set support activity manager enabled activity ids test source provider set variable test source provider fire source changed set hash set support activity manager enabled activity ids assert false set equals previous set set remove support set enabled activity ids set assert false support activity manager enabled activity ids equals previous set eval service remove source provider test source provider created attachment suggested replacement patch takes option patch processing deltas process additions removals separately strip expression activities deltas augment enabled list blowing patch test case posted reply comment created attachment details suggested replacement patch takes option patch processing deltas process additions removals separately strip expression activities deltas augment enabled list blowing patch test case posted haven full set suites patch utils test reply comment haven full set suites patch utils test tests passing reply comment discussing paul issues basically problem code patch takes account user set enabled activity bound expression doesn guard user remove enablement activity bound expression delta activity ids account changing removed set expression touch total immutable test code problem set hash set support activity manager enabled activity ids assert false set equals previous set shouldn change activity expression totally set remove support set enabled activity ids set false true equal assert false support activity manager enabled activity ids equals previous set eval service remove source provider test source provider assert true support activity manager enabled activity ids equals previous set failure code call set enabled activity ids remove expression controlled activities enabled activity ids delta activity ids delta activity ids size activity events activity update activities delta activity ids return remove expression controlled activities iterator iterator delta activity ids iterator iterator string string iterator activity activity activity activities expression expression activity expression expression null removed enabled activity ids delta activity ids enabled activity ids corrected delta activity ids enabled activity ids remove iterator remove don chance abuse reply comment delta activity ids account changing removed set expression touch total immutable point set returned enabled activity ids union user set activities expression enabled true activities user calls set enabled activity ids set remove expression enabled false activities add missing expression enabled true activities set remove support set enabled activity ids set false true equal assert false support activity manager enabled activity ids equals previous set point enabled expression doesn matter user remove list enabled enabled enabled activity ids set reply comment reply comment delta activity ids account changing removed set expression touch total immutable point set returned enabled activity ids union user set activities expression enabled true activities user calls set enabled activity ids set remove expression enabled false activities add missing expression enabled true activities set remove support set enabled activity ids set false true equal assert false support activity manager enabled activity ids equals previous set point enabled expression doesn matter user remove list enabled enabled enabled activity ids set based conversation agreement dont objections paul tomorrows build silence golden created attachment add localy lines code didn bug fired notifier false data listening comment reopening reducing bug minor harmful errors expected caused bug left patch applied verified code inspection jan moment verify verified extended junit test
 