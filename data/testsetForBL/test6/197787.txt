viewers cell editor activated table refresh build steps reproduce demonstrate modified snippet table viewer sorting example tod enter editor zebra press enter items rearranged table refresh really necessary point makes easier demonstrate press enter strange behavior editor previous item position activated correct content modified snippet package org swt snippets import org core runtime assert import org jface viewers cell editor import org jface viewers column label provider import org jface viewers column viewer import org jface viewers column viewer editor import org jface viewers column viewer editor activation event import org jface viewers column viewer editor activation strategy import org jface viewers editing support import org jface viewers focus cell highlighter import org jface viewers structured content provider import org jface viewers table viewer import org jface viewers table viewer column import org jface viewers table viewer editor import org jface viewers table viewer focus cell manager import org jface viewers text cell editor import org jface viewers viewer import org jface viewers viewer cell import org jface viewers viewer comparator import org jface viewers viewer row import org swt import org swt events key event import org swt events selection adapter import org swt events selection event import org swt graphics color import org swt graphics import org swt graphics rectangle import org swt layout layout import org swt widgets display import org swt widgets event import org swt widgets listener import org swt widgets shell import org swt widgets table item import com swtdesigner resource manager example usage viewer comparator tables allow sorting author tom schindl tom schindl bestsolution public class snippet table viewer sorting private class content provider implements structured content provider public object elements object input element return person input element public void dispose public void input changed viewer viewer object input object input public class person public string givenname public string surname public string email public person string givenname string surname string email givenname givenname surname surname email email protected abstract class abstract editing support extends editing support private text cell editor editor public abstract editing support table viewer viewer super viewer editor text cell editor viewer table protected boolean edit object element return true protected cell editor cell editor object element return editor protected void set value object element object value set value element value viewer update element null table viewer table viewer table viewer viewer table item item table viewer table item table viewer table selection index object obj item data refresh table table viewer refresh search item object previously selected item table item itemtoselect null table item items table viewer table items table item items data equals obj itemtoselect select item table viewer table set selection itemtoselect protected abstract void set value object element object value public snippet table viewer sorting shell shell table viewer table viewer shell set content provider content provider final table viewer focus cell manager focus cell manager table viewer focus cell manager editable focus cell highlighter column viewer editor activation strategy act support column viewer editor activation strategy protected boolean editor activation event column viewer editor activation event event event source event instanceof key event event key code event key code key event event source event doit false return event event type column viewer editor activation event event event type column viewer editor activation event event event type column viewer editor activation event event key code event key code event event type column viewer editor activation event event key code event event type column viewer editor activation event event key code event event type column viewer editor activation event event key code event event type column viewer editor activation event table viewer editor focus cell manager act support column viewer editor column viewer editor column viewer editor column viewer editor table viewer column column table viewer column column column set width column column set text givenname column column set moveable true column set label provider column label provider public string text object element return person element givenname column set editing support abstract editing support protected object value object element return person element givenname protected void set value object element object value person element givenname value string column viewer sorter sorter column viewer sorter column protected int compare viewer viewer object object person person person person return givenname compare ignore case givenname column table viewer column column column set width column column set text surname column column set moveable true column set label provider column label provider public string text object element return person element surname column set editing support abstract editing support protected object value object element return person element surname protected void set value object element object value person element surname value string column viewer sorter column protected int compare viewer viewer object object person person person person return surname compare ignore case surname column table viewer column column column set width column column set text mail column column set moveable true column set label provider column label provider public string text object element return person element email column set editing support abstract editing support protected object value object element return person element email protected void set value object element object value person element email value string column viewer sorter column protected int compare viewer viewer object object person person person person return email compare ignore case email person model model set input model table set lines visible true table set header visible true sorter set sorter sorter column viewer sorter private person model person elements person elements person tom schindl tom schindl bestsolution elements person boris bokowski boris bokowski ibm com elements person tod creasey tod creasey ibm com elements person wayne beaton wayne org return elements private static abstract class column viewer sorter extends viewer comparator public static final int public static final int public static final int private int direction private table viewer column column private column viewer viewer public column viewer sorter column viewer viewer table viewer column column column column viewer viewer column column selection listener selection adapter public void widget selected selection event column viewer sorter viewer comparator null column viewer sorter viewer comparator column viewer sorter int tdirection column viewer sorter direction tdirection set sorter column viewer sorter tdirection set sorter column viewer sorter set sorter column viewer sorter set sorter column viewer sorter public void set sorter column viewer sorter sorter int direction direction column column parent set sort column null column column parent set sort direction viewer set comparator null column column parent set sort column column column sorter direction direction direction column column parent set sort direction column column parent set sort direction viewer comparator sorter viewer refresh viewer set comparator sorter public int compare viewer viewer object object return direction compare viewer protected abstract int compare viewer viewer object object private class editable focus cell highlighter extends focus cell highlighter private viewer cell cell param viewer viewer public editable focus cell highlighter column viewer viewer super viewer hook listener viewer private void mark focused cell event event viewer cell cell event set background resource manager color set foreground resource manager color set width int current col event index rectangle rect table item event item bounds current col draw rectangle rect event event focus event private void remove selection information event event viewer cell cell private void hook listener final column viewer viewer listener listener listener public void handle event event event event viewer cell focus cell focus cell viewer row row focus cell viewer row assert null row internal structure invalid item associated row possible viewer cell cell row cell event index focus cell null cell equals focus cell remove selection information event cell mark focused cell event cell viewer control listener erase item listener param cell cell colored return color protected color selected cell background color viewer cell cell return null param cell cell colored return color protected color selected cell foreground color viewer cell cell return null non javadoc org jface viewers focus cell highlighter focus cell changed org jface viewers viewer cell protected void focus cell changed viewer cell cell super focus cell changed cell redraw area cell null rectangle rect cell bounds int cell column index rect int width cell column index rect rect width rect width fix linux cell control redraw rect width rect height true cell null rectangle rect cell bounds int cell column index rect int width cell column index rect rect width rect width fix linux cell control redraw rect width rect height true cell cell param args public static void main string args display display display shell shell shell display shell set layout layout snippet table viewer sorting shell shell open shell disposed display read dispatch display sleep display dispose
 