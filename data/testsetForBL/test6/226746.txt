commands handler updates wrong selection click view attached plugin project create java project java class open java class editor check test command popup menu navigator view select text java editor click object navigator view receive error test command handler update element map problem expecting structured selection handler enabled navigator view text selection longer active java editor note receive exception executing handler updating selection structured selection executing note enablement handler correct selection object java lang class cast exception org eclipse jface text text selection cast org eclipse jface viewers structured selection test plugin test command handler update element test command handler java org eclipse internal handlers handler proxy update element handler proxy java org eclipse internal commands command service command service java org eclipse core runtime safe runner safe runner java org eclipse internal commands command service refresh elements command service java org eclipse internal handlers handler authority update command handler authority java org eclipse internal handlers handler authority process changed commands handler authority java org eclipse internal handlers handler authority access handler authority java org eclipse internal handlers handler authority property change handler authority java org eclipse internal services evaluation authority evaluation authority java org eclipse core runtime safe runner safe runner java org eclipse internal services evaluation authority fire service change evaluation authority java org eclipse internal services evaluation authority source change evaluation authority java org eclipse internal services evaluation authority source changed evaluation authority java org eclipse internal services expression authority source changed expression authority java org eclipse internal services expression authority source changed expression authority java org eclipse abstract source provider fire source changed abstract source provider java org eclipse internal services active source provider check active active source provider java org eclipse internal services active source provider deactivated active source provider java org eclipse internal listener list listener list java org eclipse core runtime safe runner safe runner java org eclipse core runtime platform platform java org eclipse internal listener list fire event listener list java org eclipse internal listener list fire deactivated listener list java org eclipse internal service fire deactivated service java org eclipse internal service set active service java org eclipse internal win service update active win service java org eclipse internal win service access win service java org eclipse internal win service deactivated win service java org eclipse internal listener list listener list java org eclipse core runtime safe runner safe runner java org eclipse core runtime platform platform java org eclipse internal listener list fire event listener list java org eclipse internal listener list fire deactivated listener list java org eclipse internal service fire deactivated service java org eclipse internal service set active service java org eclipse internal workbench list fire active changed workbench list java org eclipse internal list set active list java org eclipse internal workbench set active workbench java org eclipse internal workbench request activation workbench java org eclipse internal pane request activation pane java org eclipse internal pane handle event pane java org eclipse swt widgets event table send event event table java org eclipse swt widgets widget send event widget java org eclipse swt widgets widget send event widget java org eclipse swt widgets widget send event widget java org eclipse swt widgets shell set active control shell java org eclipse swt widgets shell shell java org eclipse swt widgets control window proc control java org eclipse swt widgets canvas window proc canvas java org eclipse swt widgets decorations window proc decorations java org eclipse swt widgets shell window proc shell java org eclipse swt widgets display window proc display java org eclipse swt internal win def window proc native method org eclipse swt internal win def window proc java org eclipse swt widgets scrollable call window proc scrollable java org eclipse swt widgets control window proc control java org eclipse swt widgets display window proc display java org eclipse swt internal win def window proc native method org eclipse swt internal win def window proc java org eclipse swt widgets scrollable call window proc scrollable java org eclipse swt widgets control window proc control java org eclipse swt widgets display window proc display java org eclipse swt internal win def window proc native method org eclipse swt internal win def window proc java org eclipse swt widgets scrollable call window proc scrollable java org eclipse swt widgets control window proc control java org eclipse swt widgets display window proc display java org eclipse swt internal win def window proc native method org eclipse swt internal win def window proc java org eclipse swt widgets scrollable call window proc scrollable java org eclipse swt widgets control window proc control java org eclipse swt widgets display window proc display java org eclipse swt internal win call window proc native method org eclipse swt internal win call window proc java org eclipse swt widgets tree call window proc tree java org eclipse swt widgets control window proc control java org eclipse swt widgets tree window proc tree java org eclipse swt widgets display window proc display java org eclipse swt internal win peek message native method org eclipse swt internal win peek message java org eclipse swt widgets display read dispatch display java org eclipse internal workbench event loop workbench java org eclipse internal workbench workbench java org eclipse internal workbench access workbench java org eclipse internal workbench workbench java org eclipse core databinding observable realm default realm java org eclipse internal workbench create workbench workbench java org eclipse platform create workbench platform java org eclipse internal ide application application start application java org eclipse equinox internal app eclipse app handle eclipse app handle java org eclipse core runtime internal adaptor eclipse app launcher application eclipse app launcher java org eclipse core runtime internal adaptor eclipse app launcher start eclipse app launcher java org eclipse core runtime adaptor eclipse starter eclipse starter java org eclipse core runtime adaptor eclipse starter eclipse starter java sun reflect native method accessor impl invoke native method sun reflect native method accessor impl invoke native method accessor impl java sun reflect delegating method accessor impl invoke delegating method accessor impl java java lang reflect method invoke method java org eclipse equinox launcher main invoke framework main java org eclipse equinox launcher main basic main java org eclipse equinox launcher main main java org eclipse equinox launcher main main main java created attachment test plugin project zipped plugin project address active change event runs completion current selection change event evaluation context text selection common problem type multi source event model couple days hopeful sources correctly return navigator view view selection selection service updated point posted falls defensive prevent errors workaround produce correct evaluation service evaluation service element service locator service evaluation service class view view current variable sources structured selection selection structured selection site selection provider selection trick hit separate problem handler update doesn coming view view changing selection view select foo view activate view click foo view don context menu repeated clicking command issue log works fine select package explorer activate outline click select package explorer activating runtime exception killing popup menu errors occurring background case context menu commands fact menu items commands context menu breakpoint update element element map method hit case reply comment case context menu commands fact menu items commands context menu breakpoint update element element map method hit case org eclipse examples contributions info view context menu click inactive view commands defined plugin xml update element configuration active ties view problem include bug relates inactive views menu contributions visibility incorrect reply comment update element configuration active ties view problem include bug relates inactive views menu contributions visibility incorrect active tests view active enabled tests selected objects handler visible strict test selected objects command menu item items visible problem portion functionality test setting hot key handlers active quick eclipse win build context menu doesn hotkey enabled handler isn active switching views snippet code extension point org eclipse handlers handler command org eclipse jpt persistent type remove persistent class class org eclipse jpt internal commands remove persistent class handler active reference definition org eclipse jpt reference jpa structure view reference active enabled iterate instanceof org eclipse jpt core context orm orm persistent type iterate enabled handler extension point org eclipse menus menu contribution location popup org eclipse jpt jpa structure view command command org eclipse jpt persistent type remove persistent class visible variable selection iterate instanceof org eclipse jpt core context orm orm persistent type iterate visible command add definition code extension point org eclipse core expressions definitions test determining current context structure view definition org eclipse jpt reference jpa structure view variable active equals org eclipse jpt jpa structure view definition created attachment sample view command paul sample view plugin copied fake base classes bring sample view hosted eclipse application select click command item popup menu appears work works modifying closely mirror scenario app app tracing turned http wiki eclipse org platform command framework tracing option track command org eclipse trace handlers verbose command org eclipse jpt persistent type remove persistent class admittedly newb tracing find meaningful output enabled tracing launch config checked tracing org eclipse trace handlers trace handlers performance trace handlers verbose trace handlers verbose command org eclipse jpt persistent type remove persistent class find console log command guys dali reply comment admittedly newb tracing find meaningful output enabled tracing launch config checked tracing org eclipse trace handlers trace handlers performance trace handlers verbose trace handlers verbose command org eclipse jpt persistent type remove persistent class find console log command enable tracing launch config enable tracing top dialog check org eclipse bundle left hand side check debug element panel select org eclipse trace handlers trace commands don trace handler performance guys dali glad file import existing project workspace sample view command comment work launch open sample view view registering context menu create control copied pasted handler definition menu contribution elements bug worth check reply comment enable tracing launch config enable tracing top dialog check org eclipse bundle left hand side check debug element panel select org eclipse trace handlers trace commands don trace handler performance missed set debug option wasn obvious pointing test plugin work fine struggling plugin works doesn tracing spelunk scarier parts find don view playing nice selection framework view active opposed actively selecting selection object normal structured selection command evaluation code instanceof fail selection story wasn clean adds fuel fire mark successful workaround remaining work wrong selection occures switching view left click wouldn update selection active source provider check active active site variable changed reply comment wrong selection occures switching view left click wouldn update selection active source provider check active active site variable changed rid solution involve writing workbench source provider change event include selection active selection window active selection random cascade events promising approach late cycle start yanking source providers changing event orders created attachment sample view toolbar command visible based selection problem controlling toolbar visibility based selection view attached toolbar button appears selected active changed toolbar button disappears selected view suppose minor problem visibility correctly restored view focus incorrect don understand command framework internals sense selection evaluation services reply comment created attachment details sample view toolbar command visible based selection side driving eclipse global application applicable stream notion local context code application context monitor application code localized view command local context sheltered global application prakash turn source providers org eclipse internal services action set source provider org eclipse internal services active source provider org eclipse internal services active shell source provider org eclipse internal services current selection source provider source provider org eclipse internal workbench source provider careful insure change event includes workbench window includes active selection multiple change events random order created attachment patch rough cut patch keeping listeners single class workbench source provider delegate providers fires source change update providers fire unified source changed event nice theory test cases failing wrong patch failing test cases scrapping providers workaround code fact event listeners conspiring event order incorrect capturing usecases workbench source provider usecases selection simply update selection active update selection time consume selection changed event active perspective deal active change selection change events active window fire pretty variables time reply comment created attachment patch source providers merged single fires single source changed event reply comment created attachment details patch source providers merged single fires single source changed event solve initial problem reproduce errors test plugin attachment org eclipse workbench problems occurred invoking code plug org eclipse workbench java lang class cast exception org eclipse jface text text selection incompatible org eclipse jface viewers structured selection test plugin test command handler update element test command handler java org eclipse internal handlers handler proxy update element handler proxy java org eclipse internal commands command service command service java org eclipse core runtime safe runner safe runner java org eclipse internal commands command service refresh elements command service java org eclipse internal handlers handler authority update command handler authority java org eclipse internal handlers handler authority process changed commands handler authority java org eclipse internal handlers handler authority access handler authority java org eclipse internal handlers handler authority property change handler authority java org eclipse internal services evaluation authority evaluation authority java org eclipse core runtime safe runner safe runner java org eclipse internal services evaluation authority fire service change evaluation authority java org eclipse internal services evaluation authority source change evaluation authority java org eclipse internal services evaluation authority source changed evaluation authority java org eclipse internal services expression authority source changed expression authority java org eclipse internal services expression authority source changed expression authority java org eclipse abstract source provider fire source changed abstract source provider java org eclipse internal services workbench source provider check active workbench source provider java org eclipse internal services workbench source provider deactivated workbench source provider java org eclipse internal listener list listener list java created attachment patch patch work week created attachment property change test patch test tracking prove window selection change fails patch creating window changing active selection created attachment tests reply comment fails patch creating window changing active selection active expression evaluates true org eclipse tests selection provider view org eclipse tests selection provider view updating tests test passes modifications patch reply comment active expression evaluates true org eclipse tests selection provider view org eclipse tests selection provider view updating tests test passes modifications patch evaluates false property change listener fire bug investigate tomorrow tests good created attachment test test captures failure window switches view fires event view fires event window event opens view fires event force window view active view active active view view fails event fired reply comment force window view active view active active view view fails event fired force window active active view view test checking view structured selection view text selection window shell force active process events shell activate forced change call idx assert equals window active active site service current variable sources assert selection selection call idx structured selection class selection provider view changing check view assert selection selection call idx text selection class selection provider view test passes verify reply comment reply comment force window view active view active active view view fails event fired force window active active view view test checking view structured selection view text selection window shell force active process events shell activate forced change call idx assert equals window active active site service current variable sources fails changing check view assert selection selection call idx text selection class selection provider view correct fixed reply comment created attachment details patch released patch test correct check opened bug multi window activation failure linux prakash hard work workbench events delicate area work copy paste error org eclipse internal services workbench source provider check active lines sources sources commented lines file locator removed guess fixing worth time write test proves problem reply comment guess fixing worth time write test proves problem test fails patch reply comment reply comment guess fixing worth time write test proves problem test fails patch copy paste errors caught tests verified
 