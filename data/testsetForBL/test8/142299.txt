face class dialog loaded thread static initializer org eclipse jface dialogs dialog executed thread problematic call chain face resources image registry display current thread returns null causing static initializer result class fails load stumbled wanted perform aspect weaving hooks subclass dialog purpose force loading classes infrastructure code running hypothetical scenario problems configurable factory programmed class dialog class void init dialog class class read dialog class dialog create dialog return dialog dialog class instance case method init crash invoked thread static initializer assumptions context executed code question exist compatibility typo javadoc display system icon int read system image typo image registry fact image registry string maps deprecated dialog code static initializer entries entered image registry retrieved correct wrong stephan static initializer deprecated mapped images image registry general face assumes thread agree avoid writing static initializers real work case move code image registry reply comment stephan boris static initializer deprecated mapped images image registry confused general face assumes thread sound assumption explicit method calls agree avoid writing static initializers real work case move code image registry sounds great idea bug marked duplicate bug bug reports problem wizard class susan solution address static initializers dialog wizard classes haven looked marking investigated boris suggested comment code moved lazy initializers image registry methods image constants remain dialog wizard classes image registry reply comment haven looked marking investigated boris suggested comment code moved lazy initializers image registry methods image constants remain dialog wizard classes image registry image constants dialog wizard treated specially image registry moment elegant solution code creating images moved image registry leave comment teh dialog wizard classes thinking bit explicitly register images creating default image registry face resources image registry current code creates default registry add method initialize images advantage registering images default registry preserving behavior polluting generic class image registry references images default registry reply comment thinking bit explicitly register images creating default image registry face resources image registry sense suggestion created attachment apply patch org eclipse jface susan patch envisioning release nix bugs patch looked source verify fixes problem snippet verifies post verify pass created attachment test classes small test case replicates patch applied patch applied test classes printed console bug class app released build karice chance bug making maintenance release chance deadline bugs considered passed release possibility release plan official open bug reference bug attached targetted verified win snippet runs prints class names console bug marked duplicate bug patch applied eclipse reply comment patch applied eclipse plans maintenance releases stream wrong ing confirm understand position product based eclipse patch ourself provide patch applied existing patch applied understand tested base original bug fixed problem newly introduced class popup dialog offending initializations private static final grid data factory grid data factory fill defaults grab true true private static final grid layout factory grid layout factory fill defaults margins spacing introduced popup dialog response bug exception java lang illegal argument exception argument null org eclipse swt error java org eclipse swt error java org eclipse swt error java org eclipse swt graphics init java org eclipse swt graphics init java org eclipse jface layout layout constants initialize constants layout constants java org eclipse jface layout layout constants spacing layout constants java org eclipse jface layout grid layout factory fill defaults grid layout factory java org eclipse jface dialogs popup dialog clinit popup dialog java kind lazy initialization fields reply comment stephan breaking filed bug bug marking verified
 