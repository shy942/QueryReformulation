undo operation history action handler happen shutdown workbench window reference window history async task window annoying scary messages log headless test suite happen creates destroys workbench windows test case caused java lang null pointer exception org eclipse operations operation history action handler history operation history action handler java org eclipse operations redo action handler flush redo action handler java org eclipse operations operation history action handler operation history action handler java org eclipse swt widgets runnable lock runnable lock java org eclipse swt widgets synchronizer async messages synchronizer java created attachment simple patch wrong initial description tests destroy window junit unpatched code error times log fixed francis prefer backported fixing cycle good quick turnaround great mvm risk bad committed maintenance branch leaving milestone verification marked verification logged bug track close verify verified win pro source code inspection francis completeness write automated test mock condition prevent future regressions idea test suite triggered logging attempting action handler async block test cases trigger asyncs action handler receives notifications don failure test case hangs action handler runs window closed understand original condition stranger caused action handler window shutdown client problem masked fixes susan don love fixes days write automated regression tests environment heavy operation history undo redo menu items buttons undo redo listeners operation history events operation history action handler emitting events running asynchronously operation execute tests async events executed tests execute thousands manipulating trees main window bunch theses hanging processed surprised errors eclipse automated regression testing lot operations undone terminating main window junit condition test undoable operations executes closes main window easily problem provide easily reproduce info francis operations framework designed headless tests framework level performed headlessly stress tests correctness tests comments point stress testing context workbench workbench operation tests checking specific workbench undo context force error operations tests workbench dispatched async execs test closing workbench window running multiple times multiple workbench windows fail suspect operations timing add stress tests thousands operations info opened bug track stress tests issue bug remains closed verified
 