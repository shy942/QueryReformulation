undo operation history event distinguish canceled event failed event operation history event includes notification operation complete status client distinguish operation cancelled operation status problematic action handlers prune history operation occurs history pruned user cancels undo action handlers difference bug instance problem reasonable observer originate undo redo decide prune history operation attempt status returned caller proposed extension return status event return status event status null public status status constructor construct event operation history param code event code param history history triggering event param operation operation involved event param status status event null status public operation history event int code operation history history undoable operation operation status status verified jeem kind extension extension concrete class define abstract methods marked methods released verified visual inspection source differentiating cancel error scenario bug
 