undo successful undo operation disposed framework redone verifying bug slight hole dispose strategy clear successful undo add operation redo stack redone conservatism support integration existing frameworks refactoring produce undo redo behavior fly guarantee successful undo successful redo check synchronized block bug boolean add redo stack operation redo synchronized undo redo history key undo list remove operation add redo stack check redo limit operation redo list add operation
