imag design imagecac top actioncontributionitem cac updat class workbench imag cac jface imagecac bug function jface imagecac class doug overlook gradual integr imagecac workbench class creat attach patch imagecac layout bit thread appli memori coupl limit comparison ident comparison imagedescriptor imag descriptor refer imag construct separ share resourc problem cac client hold refer imagedescriptor imag drop refer imag imag dispos hold refer imag continu exist problem contribu item behaviour problem format sort member code head question comment modifi imagecac support singleton pattern share workbench replac referencecount class imag cac class workbench defin imagecac class editormanag workbencheditorsdialog reason class workbenchimag imagecac assum goal central imag cac workbench correct case class implem imag cac hash tabl list replac share imagecac foreseen implic share class imageclass implement scale lifeti imagedescriptor imageclass doesn scale thread implement scale share scenario make thread implement expens long typic lifeti imag descriptor workbench object imagecac class familiar class workbench imag cac look overlayicon actioncontributionitem doug point design imagedescriptor refer drop imag fair assump rest workbench class imag cac imagecac share workbench extr benefici recogn imag descriptor refer imag construct time avoid store duplic imag cac creat attach propos patch updat imagecac updat hashableweakrefer modifi equal hashcod overload oper overlook don phantomrefer reason realiz problem initi imag tabl find weak refer remov clean time weak phantom refer caus implement hashcod equal overload reli refer method weak refer method return null object clear phantom refer refer retriev method return null implement function easili switch read java doc weakli reachabl softli reachabl reach travers weak refer weak refer weakli reachabl object clear object elig final phantom reachabl softli weakli reachabl final phantom refer refer opt stick initi choic weak refer elig final final distinc debat revert phantom refer suit problem read descrip phantomrefer close matc achiev cleaner logic flaw weakrefer implement propos equal impli hashcod equal hashcod equal impli equal switch class phantom refer hash code awar problem look solution time imag descriptor uniqu locat file make assump imagedescriptor instanc overwrit equal hashcod oper hashcod method object produc distinct integ awar requir sugges implem equal hashcod method allevi problem bug mark duplic bug creat attach revis patch imagecac design imag cac class map imag map map weak refer arrai imag map perform imag dispos respect imag descriptor weakli referenc cleaner thread refer map weak hash map imag descriptor weak refer map exist imag descriptor cac return imag test basic function imag cac attempt write jun test case overlook design system identityhashcod object creat attach revis patch imagecac case imag request equal imag descriptor implement request imag descriptor creat weak refer imag clean request drop refer imag descriptor leav request dispos imag issu getimag method return imagecachevalu compris imag descriptor descriptor repres object order imag aliv written test case eclips jface test imagecac updat head wonder thread reli exist thread class appear perform function thread referencequeu manag public final class imagecac privat static final map map weakhashmap static class imagedispos final imag imag public imagedispos imag imag imag imag protect void final throw throwabl imag dispos super final public static imag getimag imagedescriptor desc imagedispos dispos imagedispos map desc dispos null dispos imagedispos desc createimag map desc dispos return dispos imag comment approach sound creat multipl imag equal ident imagedescriptor result imag resourc alloc share essenti refer count number weak refer equal imagedescriptor free share imag count randi work coupl modif accessor normal grei disabl comment mention valid concern equival imag descriptor share imag weakrefer mechan work ident return imag descriptor imag comment avoid creat duplic imag equival descriptor return ident imag descriptor appear weakrefer origin requestor imag releas descriptor imag dispos request imag origin request hold ident refer confus long imag share investig issu return imagecachevalu requir user imag cac descriptor point return refer altern solution put burden user ensur descriptor point refer nick suggest refer count benefici case creat weak refer imag descriptor pass imag request add count arrai imag count repres number weak refer imag descriptor imag arrai imag dispos refer count user request imag worri descriptor point correct descriptor refer haven thought sugges sound special hashmap ident equal map multipl equival descriptor imag refrenc count descriptor weakli reachabl remov map refer count decrem dispos behavior lookup descriptor exist entri exist return exist entri equal exist creat entri descriptor increm refer count simul equivalenceset kei imag lookup equivalenceset weak refer imagedescriptor poll refer queue weak refer subclass equivalenceset belong remov equivalenceset set empti dispos imag set imagedescriptor spoof equivalenceset descriptor equivalenceset implem equal return true iff obtain refer equal set obtain refer fulli understand propos solution comment sound special hashmap ident equal java identityhashmap case map multipl equival descriptor imag refrenc count map multipl equival imag descriptor arrai imag arrai imag repres disabl grai normal imag creat form descriptor imagedescriptor spoof equivalenceset descriptor equivalenceset implem equal return true iff obtain refer equal set obtain refer equival set involv compar weak refer overwr equal hashcod method base weak refer turn difficult garbag collector enqueu newli clear weak refer time clear pose problem weak refer method return null enqueu access imag descriptor that latest implement map comment propos solution fit understand incorrect class kei imag arrai btw creat disabl grai version need class weakequivalenceset privat int hashcod refer item weakequivalenceset object seed referencequeu queue hashcod seed hashcod add seed queue static class nestedweakrefer extend weakrefer public nestedweakrefer object refer referencequeu super refer public void removefromset todo remov refer set item public void add object referencequeu queue weakrefer nestedweakrefer queue todo grow item add privat object getfirstreach object result int item length result item result null return result return bogu object check null equal return object public boolean equal object obj obj instanceof weakequivalenceset weakequivalenceset set weakequivalenceset obj return set getfirstreach equal getfirstreach return fals overwr equal hashcod method base weak refer turn difficult cac hashcod origin object map effici resiz rehash weak haven clear equal refer null entri die cleaner thread remov shortli compar kei imagedescriptor reachabl everyti lookup temporarili creat kei map weakidentityset don instanc kei map refer cleaner thread cast refer nestedweakrefer call removefromset chang removefromset return set empti return null set return remov map add getidentityset method refer isempti set current design imag cac fit workbench left imag descriptor map arrai imag repres normal grai disabl imag instanc uniqu imag descriptor uniqu imag store weak refer cac imagecac assu instanc imagedescriptor properli overwritten equal hashcod prevent duplic descriptor imag cac getimag method return imagecachevalu imag imag descriptor weak refer cac getimagedescriptorrefer imagedescriptor descriptor public user retriev imag descriptor cac weak refer getimag imagedescriptor descriptor method creat disabl grai imag regular imag hand getgrayimag getdsiabledimag method creat normal imag descriptor creation grai disabl imag involv creation normal imag decid imag cac imag descriptor weakli referenc imag arrai dispos respons user imag cac ensur refer correct imag descriptor order prevent dispos imag don grai imag need workbench featur remov requir pass imagedescriptor hold obscur solution avoid requir current design imag cac fit workbench util api bug idea consid iter support mileston run test timefra comm latest version imagecac head imagecachetest eclips jface test gradual integr cac workbench updat imagecac head equival set suggest randi sugges imagecachevalu turn unpract replac actioncontributionitem local cac jface actioncontributionitem maintain instanc cac shouldn workspac multipl cac instanc doesn multipl cleaner thread cleaner thread queue goal instanc run workbench workspac replac workbenchimag imagecac workbench access global cac actioncontributionitem jface don cac workbench cleaner thread queue sens case fix imag cac solv synchron problem close bug open bug address issu imag cac integr workbench actioncontributionitem class plan send note mail list complet develop port write note imag cac latest version head fix protec deadlock yesterdai bug test won comm head releas verifi build document imagecac http dev eclips org viewcv cgi echeckout org eclips platform doc isv guid jface resourc htm appear cleaner thread run optim singl thread instanc randi log seper concern don lost stefan discuss merg support resourc manag develop don mix messag manag imag unclear manag rcp applic jfaceresourc resourcemanag care shutdown applic write thier applic lose
 