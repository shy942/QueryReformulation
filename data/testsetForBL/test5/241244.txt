status handling status manager handle status status manager block wizard perform finish created attachment simple application demonstrates problem build steps reproduce import attached demo project start application click finish wizard status dialog block wizard closed dialog shortly appears dialog wizard closed automatically return false perform finish method work correctly false finish request refused status dialog block thread displayed top shell close shell wizard specyfying true dialog closed wizard set error message user wrong override finish method finish button enabled disabled real issue status manager handle status status manager blocking javadoc status manager style indicating handling block calling method user responded generally modal window link dialog bug reassigning krzysztof investigation thoughs blocking thread application responding status user closes dialog status displayed dialog thread dialog switch modality reopening flag issue long dialog modal return nonmodal ensure blocking status arriving modal dialog block parent thread ensure threads communicate call blocked alternatively acceepting fact dialog process status user reacts blocking ensure workbench error handler remember threads blocked ignore modality switching becasue dialog modal receives blocking status adapter modality change investigation required bug blocking require synchronic user action bug solved thought comments reply comment confused status dialog manager add status adapter handle modal determined based style ensure threads communicate call blocked thread blocked modal dialog communicate write code poll thread alternatively acceepting fact dialog process status user reacts blocking cases thread background thread case occur reasons thread busy events processed status issues case work status handler modal dialog thread issuing statuses dialog ensure workbench error handler remember threads blocked true honour status manager block threads intended javadoc cited calls dialog intention prevent user proceeding informed status processing halt note word combined style flag suggests hint contract enforce thread chose wanted block thread thinking display sync exec opens dialog javadoc thread calls method suspended runnable completes advocating don intention ignore modality switching becasue dialog modal receives blocking status adapter modality change agree dialog dismissed final note wondering workbench status dialog manager add status adapter comment midway add error thread ensure thread safety dialog don suggests work thread expected display sync exec async exec final note remove comment method assertion checks thread dialog set block open true dialog modal return open consequence routine ends pretty fast thread blocked open dialog thread statuses hint contract crucial status blocking assume hint respected error handler easily replaced possibilities move responsibility blocking status manager update javadoc block users proceedings threads hint wait difficult brings discussion threads longer hint contract flags hints inconsistency simples approach resign blocking threads wait couple months facts architecture change forgot preferred reply comment final note remove comment method assertion checks thread didn spot notice javadoc doesn requirement thread allowed thread opened dialog sync async exec people request status processed thread good handle statuses thread thread isn sync exec call chain missed dialog set block open true dialog modal return open consequence routine ends pretty fast thread blocked open dialog thread statuses good catch bug isn dialog set block open true hint contract crucial status blocking assume hint respected error handler easily replaced good point attack contract provide handler respect increases complexity job argument possibilities move responsibility blocking status manager update javadoc block users proceedings threads hint wait difficult brings discussion threads longer hint contract flags hints inconsistency hint observe hint based comment simples approach resign blocking threads decide current javadoc implies ambiguous suppose argue flag fact expected happen find odd programming practice caller interpretations case blocking dialog thread open dialog blocking thread case blocking dialog thread combination sync exec set block open work based discussion thread block async exec clarifying existing wait couple months facts architecture change fooling threading blocking tricky work sooner time usage feedback hoping months isn sync exec call chain missed workbench error handler responsible executing add status adapter thread shape step step meant user respond status action modal dialog reporting error florian approach work point block calling thread clarify emphasize suggestion great care initial work attach patch block thread block flag opening window thread dialog open blocking method thread thread blocked initial thread sync exec admit solution thread report error current situation corrected javadoc tomorrow investigate approach semaphores created attachment proof concept changing behavior invalidates tests created attachment mylyn context zip created attachment proof concept approach thread called simply display call blocking dialog thread wait notify dialog closed patch approach presentation investigate direction created attachment patch preview middle work created attachment mylyn context zip reply comment good analysis agree points admit solution thread report error concern basically support user pestered sequence dialogs appearing dismissed runaway process causing errors situation ambiguous didn user interact error dealt thread suspended user takes action sense issued thread hard imagine choice thread imagine builder generating errors purpose suspending process provide answer modal dialog issued thread thread treating hint future decide blocking thread add bug thread case obvious leave ambiguous created attachment patch suprised spot blocking thread threads report errors suspect caused dialog open runs event loop called blocking mode leads interesting situation thread blocked calling running event loop quantum physics happy current patch block thread hint generally great care bug created attachment mylyn context zip ing kim discussed good threads kinds problems created attachment patch sync exec blocking calls javadoc flag updated create tests created attachment test latest patch test totally works attachment manual test case created attachment szymon proposal created attachment szymon idea paul szymon proposal comment prototype don worry method public reply comment remarks change contract workbench status dialog manager add status adapter called thread change behavior workbench status dialog manager add status adapter modal controlled modality blocking blocks control threads true szymon proposal correct created attachment szymon idea status manager javadoc updated reply comment created attachment details szymon idea case display thread org eclipse statushandlers workbench error handler handle status adapter int wouldn code thread display default async exec runnable public void platform workbench running shutting log workbench plugin log status adapter status return status dialog manager add status adapter status adapter modal modal display display display current status dialog manager shell null status dialog manager shell disposed display read dispatch display sleep possibility don collapse modal async exec sync exec modal case display read dispatch loop body sync exec comments written shouldn modal async platform workbench running modal wait loop supposed call yield thread sleep heavy weight thread yield created attachment szymon proposal paul suggestions code polished created attachment szymon proposal bug fixed patch released released shell call patch concern private void status adapter status adapter status adapter boolean block display display status dialog manager shell display shell return null dialog null practice conditions true dialog failed open wasn open headless status management call checks shell null move display moved display shell null released
 