face modal context support notification thread transfer build modal context executes runnable control effectively transfers calling thread typically thread modal context thread original calling thread runnable thread local mechanism needed find execution thread execution opportunity pass thread local calling thread completion examples thread hopping include thread local values thread context class loader scheduling rules owned thread refactoring refactoring scheduling rule entire duration operation prevent concurrent access threads entire operation typically includes acquiring operation input user thread pre condition checking modal context thread presentation pre condition thread execution refactoring modal context displaying errors thread scheduling rule locking mechanism owned single thread time operation requires lock released reacquired times operation lifecycle thread releases rule thread acquires timing hole thread rule perform operation operation slips invalidates precondition checks refactoring fail unpredicable ways platform core atomic rule transfer operation refactoring pass rule thrad possibility timing holes single remaining problem modal context thread steps advance opportunity pass rule thread modal context thread iterations dirk simple thread listener interface solve problem runnable progress implements thread listener interface notified thread control flow place scheduling rules transferred pass context class loader thread specific modal context thread executes
