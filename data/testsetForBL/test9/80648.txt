face modal context support notification thread transfer build modal context executes runnable control effectively transfers calling thread typically thread modal context thread original calling thread runnable needs use thread local state mechanism needed allow execution thread execution begins opportunity pass thread local calling thread completion examples state needs thread hopping thread local values thread context class loader scheduling rules owned given thread example refactoring refactoring needs scheduling rule entire duration operation prevent concurrent access threads entire operation typically includes acquiring operation input user thread pre condition checking modal context thread presentation pre condition results thread execution refactoring modal context displaying results errors thread scheduling rule locking mechanism owned single thread time operation requires lock released reacquired times operation lifecycle thread releases rule thread acquires timing hole thread rule perform operation operation slips invalidates results precondition checks refactoring likely fail unpredicable ways platform core added atomic rule transfer allows operation refactoring pass rule thrad possibility timing holes single remaining modal context thread used steps known advance opportunity pass rule thread modal context thread begins iterations dirk simple thread listener interface solve runnable progress implements thread listener interface notified thread changes control flow place scheduling rules transferred used pass context class loader thread specific state modal context thread executes
 